<html>
<meta charset="UTF-8">

<head>
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <title>轉牛角尖</title>
    <style>
    body {
        margin: 10;
    }

    canvas {
        width: 100%;
        height: 100%
    }
    </style>
</head>

<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r71/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stats.js/r14/Stats.min.js"></script>

    <script src="TrackballControls.js"></script>
    <script src="Detector.js"></script>

    <script src="bower_components/webcomponentsjs/webcomponents.js"></script>

    <!--
<script type="text/javascript">
var stats = new Stats();
stats.setMode( 1 ); // 0: fps, 1: ms, 2: mb

// align top-left
stats.domElement.style.position = 'absolute';
stats.domElement.style.left = '0px';
stats.domElement.style.top = '0px';

document.body.appendChild( stats.domElement );

var update = function () {

    stats.begin();

    // monitored code goes here

    stats.end();

    requestAnimationFrame( update );

};

requestAnimationFrame( update );
</script>
-->
    <script>
    var scene = new THREE.Scene();
    var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    var cameraControls;
    var clock = new THREE.Clock();


    var renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
     // document.getElementById("hornDiv").appendChild(renderer.domElement);
     document.body.appendChild(renderer.domElement);

// Trackball Controls
    cameraControls = new THREE.TrackballControls(camera, renderer.domElement);
    cameraControls.target.set(0, 0, 0);


    // lights

    light = new THREE.DirectionalLight(0xffffff);
    light.position.set(1, 1, 1);
    scene.add(light);

    light = new THREE.DirectionalLight(0x002288);
    light.position.set(-1, -1, -1);
    scene.add(light);

    light = new THREE.AmbientLight(0x222222);
    scene.add(light);



    var mouse = new THREE.Vector2(),
        INTERSECTED;


    var geometry = new THREE.CylinderGeometry(0, 3, 10, 32, 50, false);
    var material = new THREE.MeshPhongMaterial({
        color: 0xffffff
    });
    var horn = new THREE.Mesh(geometry, material);
    scene.add(horn);

    camera.position.z = 10;

    function render() {

        var delta = clock.getDelta();


        requestAnimationFrame(render);

        cameraControls.update(delta);



        // horn.rotation.x += 0.01;
        // horn.rotation.y += 0.02;
        // horn.rotation.z += 0.03;
        renderer.render(scene, camera);
        // stats.update();
    }



    render();

    document.addEventListener('mousemove', onDocumentMouseMove, false);
    document.addEventListener('click', onDocumentMouseClick, false);


    function onDocumentMouseMove(event) {

        event.preventDefault();

        mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
        mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

    }

    function onDocumentMouseClick(event) {

        console.log("Clicked!");
        camera.position.z = 15;

    }

            function onWindowResize() {

                windowHalfX = window.innerWidth / 2;
                windowHalfY = window.innerHeight / 2;

                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();

                renderer.setSize( window.innerWidth, window.innerHeight );

            }

    window.addEventListener('resize', onWindowResize, false);
    </script>

    <div id="head">
        轉牛角尖
    </div>
    <canvas id="hornDiv">

    </canvas>

    <google-signin>
        <google-signin-aware id="aware" class="style-scope google-signin"></google-signin-aware>
        <template is="dom-if" class="style-scope google-signin"></template>
        <div id="button" class="height-standard width-standard theme-dark signedIn-false brand-google  additionalAuth-true style-scope google-signin" _ctrlaccess02985242731154354="true">

          <paper-ripple id="ripple" class="fit style-scope google-signin">


        <div id="background" class="style-scope paper-ripple"></div>
        <div id="waves" class="style-scope paper-ripple"></div>
      </paper-ripple>
          <!-- this div is needed to position the ripple behind text content -->
          <div relative="" layout="" horizontal="" center-center="" class="style-scope google-signin">

              <div class="button-content signIn style-scope google-signin" tabindex="0" _ctrlaccess02985242731154354="true">
                <span class="icon style-scope google-signin"><iron-icon class="style-scope google-signin x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M16.3,13.4l-1.1-0.8c-0.4-0.3-0.8-0.7-0.8-1.4c0-0.7,0.5-1.3,1-1.6c1.3-1,2.6-2.1,2.6-4.3c0-2.1-1.3-3.3-2-3.9h1.7L18.9,0h-6.2C8.3,0,6.1,2.8,6.1,5.8c0,2.3,1.8,4.8,5,4.8h0.8c-0.1,0.3-0.4,0.8-0.4,1.3c0,1,0.4,1.4,0.9,2c-1.4,0.1-4,0.4-5.9,1.6c-1.8,1.1-2.3,2.6-2.3,3.7c0,2.3,2.1,4.5,6.6,4.5c5.4,0,8-3,8-5.9C18.8,15.7,17.7,14.6,16.3,13.4z M8.7,4.3c0-2.2,1.3-3.2,2.7-3.2c2.6,0,4,3.5,4,5.5c0,2.6-2.1,3.1-2.9,3.1C10,9.7,8.7,6.6,8.7,4.3z M12.3,22.3c-3.3,0-5.4-1.5-5.4-3.7c0-2.2,2-2.9,2.6-3.2c1.3-0.4,3-0.5,3.3-0.5c0.3,0,0.5,0,0.7,0c2.4,1.7,3.4,2.4,3.4,4C16.9,20.8,15,22.3,12.3,22.3z" class="style-scope iron-icon"></path></g></svg>
      </iron-icon></span>
                <span class="buttonText style-scope google-signin">Sign in</span>
              </div>
            <template is="dom-if" class="style-scope google-signin"></template>
            <template is="dom-if" class="style-scope google-signin"></template>
            <template is="dom-if" class="style-scope google-signin"></template>
          </div>

        </div>
      </google-signin>

</body>

</html>
